import mathutils
import matplotlib.pyplot as plt
from bpypolyskel import bpypolyskel
from collections import Counter

verts = [
    mathutils.Vector((-4.9820942878723145,-7.8257575035095215,0.0)),
    mathutils.Vector((4.286461353302002,-13.725690841674805,0.0)),
    mathutils.Vector((4.1407084465026855,-13.95946216583252,0.0)),
    mathutils.Vector((19.9085693359375,-23.989307403564453,0.0)),
    mathutils.Vector((20.06757164001465,-23.744403839111328,0.0)),
    mathutils.Vector((23.433156967163086,-25.881723403930664,0.0)),
    mathutils.Vector((29.163856506347656,-16.875944137573242,0.0)),
    mathutils.Vector((26.06990623474121,-14.905608177185059,0.0)),
    mathutils.Vector((42.64575958251953,11.14327335357666,0.0)),
    mathutils.Vector((26.92434310913086,21.1396484375,0.0)),
    mathutils.Vector((14.595121383666992,1.7700024843215942,0.0)),
    mathutils.Vector((5.008577823638916,7.870290756225586,0.0)),
    mathutils.Vector((-4.9820942878723145,-7.8257575035095215,15.563451766967773)),
    mathutils.Vector((4.286461353302002,-13.725690841674805,15.563451766967773)),
    mathutils.Vector((4.1407084465026855,-13.95946216583252,15.563451766967773)),
    mathutils.Vector((19.9085693359375,-23.989307403564453,15.563451766967773)),
    mathutils.Vector((20.06757164001465,-23.744403839111328,15.563451766967773)),
    mathutils.Vector((23.433156967163086,-25.881723403930664,15.563451766967773)),
    mathutils.Vector((29.163856506347656,-16.875944137573242,15.563451766967773)),
    mathutils.Vector((26.06990623474121,-14.905608177185059,15.563451766967773)),
    mathutils.Vector((42.64575958251953,11.14327335357666,15.563451766967773)),
    mathutils.Vector((26.92434310913086,21.1396484375,15.563451766967773)),
    mathutils.Vector((14.595121383666992,1.7700024843215942,15.563451766967773)),
    mathutils.Vector((5.008577823638916,7.870290756225586,15.563451766967773))
]
unitVectors = [
    mathutils.Vector((0.8435888886451721,-0.5369896292686462,0.0)),
    mathutils.Vector((-0.5290741324424744,-0.8485755920410156,0.0)),
    mathutils.Vector((0.8437643647193909,-0.5367136597633362,0.0)),
    mathutils.Vector((0.5445428490638733,0.8387330174446106,0.0)),
    mathutils.Vector((0.8441628813743591,-0.5360867977142334,0.0)),
    mathutils.Vector((0.5368587970733643,0.8436721563339233,0.0)),
    mathutils.Vector((-0.8434813618659973,0.5371584892272949,0.0)),
    mathutils.Vector((0.5368591547012329,0.8436717987060547,0.0)),
    mathutils.Vector((-0.8438599109649658,0.5365636348724365,0.0)),
    mathutils.Vector((-0.5369710326194763,-0.8436006307601929,0.0)),
    mathutils.Vector((-0.8436710834503174,0.5368605256080627,0.0)),
    mathutils.Vector((-0.5369625687599182,-0.8436059951782227,0.0))
]
holesInfo = None
firstVertIndex = 12
numPolygonVerts = 12
faces = bpypolyskel.polygonize(verts, firstVertIndex, numPolygonVerts, holesInfo, 0.0, 0.5, None, unitVectors)
fig = plt.figure()
ax = fig.gca(projection='3d')
for face in faces:
    for edge in zip(face, face[1:] + face[:1]):
        p1 = verts[edge[0]]
        p2 = verts[edge[1]]
        ax.plot([p1.x,p2.x],[p1.y,p2.y],[p1.z,p2.z])
plt.show()
